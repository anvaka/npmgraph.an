import{n as mt,w as Er,p as ie,v as oe,b as F,c as j,f as C,q as Z,x as ee,t as V,e as K,F as re,g as te,y as St,r as M,j as Ct,k as At,z as mr}from"./index-BveyBTtd.js";function wt(e){qt(e);const a=Tt(e);return e.on=a.on,e.off=a.off,e.fire=a.fire,e}function Tt(e){let a=Object.create(null);return{on:function(i,r,f){if(typeof r!="function")throw new Error("callback is expected to be a function");let E=a[i];return E||(E=a[i]=[]),E.push({callback:r,ctx:f}),e},off:function(i,r){if(typeof i>"u")return a=Object.create(null),e;if(a[i])if(typeof r!="function")delete a[i];else{const v=a[i];for(let g=0;g<v.length;++g)v[g].callback===r&&v.splice(g,1)}return e},fire:function(i){const r=a[i];if(!r)return e;let f;arguments.length>1&&(f=Array.prototype.slice.call(arguments,1));for(let E=0;E<r.length;++E){const v=r[E];v.callback.apply(v.ctx,f)}return e}}}function qt(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");const a=["on","fire","off"];for(let i=0;i<a.length;++i)if(e.hasOwnProperty(a[i]))throw new Error("Subject cannot be eventified, since it already has property '"+a[i]+"'")}function gt(e){if(e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),e.multigraph=e.uniqueLinkId),e.multigraph===void 0&&(e.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var a=new Map,i=new Map,r={},f=0,E=e.multigraph?_:u,v=[],g=A,d=A,h=A,t=A,n={version:20,addNode:R,addLink:c,removeLink:k,removeNode:o,getNode:s,getNodeCount:P,getLinkCount:$,getEdgeCount:$,getLinksCount:$,getNodesCount:P,getLinks:D,forEachNode:I,forEachLinkedNode:S,forEachLink:J,beginUpdate:h,endUpdate:t,clear:Q,hasLink:U,hasNode:s,getLink:U,getLinkById:H};return wt(n),m(),n;function m(){var l=n.on;n.on=p;function p(){return n.beginUpdate=h=q,n.endUpdate=t=w,g=L,d=N,n.on=l,l.apply(n,arguments)}}function L(l,p){v.push({link:l,changeType:p})}function N(l,p){v.push({node:l,changeType:p})}function R(l,p){if(l===void 0)throw new Error("Invalid node identifier");h();var y=s(l);return y?(y.data=p,d(y,"update")):(y=new kt(l,p),d(y,"add")),a.set(l,y),t(),y}function s(l){return a.get(l)}function o(l){var p=s(l);if(!p)return!1;h();var y=p.links;return y&&(y.forEach(B),p.links=null),a.delete(l),d(p,"remove"),t(),!0}function c(l,p,y){h();var b=s(l)||R(l),x=s(p)||R(p),G=E(l,p,y),z=i.has(G.id);return i.set(G.id,G),gr(b,G),l!==p&&gr(x,G),g(G,z?"update":"add"),t(),G}function u(l,p,y){var b=ue(l,p),x=i.get(b);return x?(x.data=y,x):new Rr(l,p,y,b)}function _(l,p,y){var b=ue(l,p),x=r.hasOwnProperty(b);if(x||U(l,p)){x||(r[b]=0);var G="@"+ ++r[b];b=ue(l+G,p+G)}return new Rr(l,p,y,b)}function P(){return a.size}function $(){return i.size}function D(l){var p=s(l);return p?p.links:null}function k(l,p){return p!==void 0&&(l=U(l,p)),B(l)}function B(l){if(!l||!i.get(l.id))return!1;h(),i.delete(l.id);var p=s(l.fromId),y=s(l.toId);return p&&p.links.delete(l),y&&y.links.delete(l),g(l,"remove"),t(),!0}function U(l,p){if(!(l===void 0||p===void 0))return i.get(ue(l,p))}function H(l){if(l!==void 0)return i.get(l)}function Q(){h(),I(function(l){o(l.id)}),t()}function J(l){if(typeof l=="function")for(var p=i.values(),y=p.next();!y.done;){if(l(y.value))return!0;y=p.next()}}function S(l,p,y){var b=s(l);if(b&&b.links&&typeof p=="function")return y?T(b.links,l,p):O(b.links,l,p)}function O(l,p,y){for(var b,x=l.values(),G=x.next();!G.done;){var z=G.value,yt=z.fromId===p?z.toId:z.fromId;if(b=y(a.get(yt),z),b)return!0;G=x.next()}}function T(l,p,y){for(var b,x=l.values(),G=x.next();!G.done;){var z=G.value;if(z.fromId===p&&(b=y(a.get(z.toId),z),b))return!0;G=x.next()}}function A(){}function q(){f+=1}function w(){f-=1,f===0&&v.length>0&&(n.fire("changed",v),v.length=0)}function I(l){if(typeof l!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+l);for(var p=a.values(),y=p.next();!y.done;){if(l(y.value))return!0;y=p.next()}}}function kt(e,a){this.id=e,this.links=null,this.data=a}function gr(e,a){e.links?e.links.add(a):e.links=new Set([a])}function Rr(e,a,i,r){this.fromId=e,this.toId=a,this.data=i,this.id=r}function ue(e,a){return e.toString()+"ðŸ‘‰ "+a.toString()}function Rt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var le={exports:{}},ve,Lr;function ce(){if(Lr)return ve;Lr=1;const e="2.0.0",a=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,f=a-6;return ve={MAX_LENGTH:a,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:f,MAX_SAFE_INTEGER:i,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ve}var Ee,$r;function fe(){if($r)return Ee;$r=1;var e={};return Ee=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...i)=>console.error("SEMVER",...i):()=>{},Ee}var Ir;function ae(){return Ir||(Ir=1,(function(e,a){const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:f}=ce(),E=fe();a=e.exports={};const v=a.re=[],g=a.safeRe=[],d=a.src=[],h=a.safeSrc=[],t=a.t={};let n=0;const m="[a-zA-Z0-9-]",L=[["\\s",1],["\\d",f],[m,r]],N=s=>{for(const[o,c]of L)s=s.split(`${o}*`).join(`${o}{0,${c}}`).split(`${o}+`).join(`${o}{1,${c}}`);return s},R=(s,o,c)=>{const u=N(o),_=n++;E(s,_,o),t[s]=_,d[_]=o,h[_]=u,v[_]=new RegExp(o,c?"g":void 0),g[_]=new RegExp(u,c?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m}*`),R("MAINVERSION",`(${d[t.NUMERICIDENTIFIER]})\\.(${d[t.NUMERICIDENTIFIER]})\\.(${d[t.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${d[t.NUMERICIDENTIFIERLOOSE]})\\.(${d[t.NUMERICIDENTIFIERLOOSE]})\\.(${d[t.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${d[t.NONNUMERICIDENTIFIER]}|${d[t.NUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${d[t.NONNUMERICIDENTIFIER]}|${d[t.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASE",`(?:-(${d[t.PRERELEASEIDENTIFIER]}(?:\\.${d[t.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${d[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[t.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${m}+`),R("BUILD",`(?:\\+(${d[t.BUILDIDENTIFIER]}(?:\\.${d[t.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${d[t.MAINVERSION]}${d[t.PRERELEASE]}?${d[t.BUILD]}?`),R("FULL",`^${d[t.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${d[t.MAINVERSIONLOOSE]}${d[t.PRERELEASELOOSE]}?${d[t.BUILD]}?`),R("LOOSE",`^${d[t.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${d[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${d[t.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${d[t.XRANGEIDENTIFIER]})(?:\\.(${d[t.XRANGEIDENTIFIER]})(?:\\.(${d[t.XRANGEIDENTIFIER]})(?:${d[t.PRERELEASE]})?${d[t.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${d[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[t.XRANGEIDENTIFIERLOOSE]})(?:${d[t.PRERELEASELOOSE]})?${d[t.BUILD]}?)?)?`),R("XRANGE",`^${d[t.GTLT]}\\s*${d[t.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${d[t.GTLT]}\\s*${d[t.XRANGEPLAINLOOSE]}$`),R("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),R("COERCE",`${d[t.COERCEPLAIN]}(?:$|[^\\d])`),R("COERCEFULL",d[t.COERCEPLAIN]+`(?:${d[t.PRERELEASE]})?(?:${d[t.BUILD]})?(?:$|[^\\d])`),R("COERCERTL",d[t.COERCE],!0),R("COERCERTLFULL",d[t.COERCEFULL],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${d[t.LONETILDE]}\\s+`,!0),a.tildeTrimReplace="$1~",R("TILDE",`^${d[t.LONETILDE]}${d[t.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${d[t.LONETILDE]}${d[t.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${d[t.LONECARET]}\\s+`,!0),a.caretTrimReplace="$1^",R("CARET",`^${d[t.LONECARET]}${d[t.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${d[t.LONECARET]}${d[t.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${d[t.GTLT]}\\s*(${d[t.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${d[t.GTLT]}\\s*(${d[t.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${d[t.GTLT]}\\s*(${d[t.LOOSEPLAIN]}|${d[t.XRANGEPLAIN]})`,!0),a.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${d[t.XRANGEPLAIN]})\\s+-\\s+(${d[t.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${d[t.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[t.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(le,le.exports)),le.exports}var me,Nr;function lr(){if(Nr)return me;Nr=1;const e=Object.freeze({loose:!0}),a=Object.freeze({});return me=r=>r?typeof r!="object"?e:r:a,me}var ge,Or;function Lt(){if(Or)return ge;Or=1;const e=/^[0-9]+$/,a=(r,f)=>{if(typeof r=="number"&&typeof f=="number")return r===f?0:r<f?-1:1;const E=e.test(r),v=e.test(f);return E&&v&&(r=+r,f=+f),r===f?0:E&&!v?-1:v&&!E?1:r<f?-1:1};return ge={compareIdentifiers:a,rcompareIdentifiers:(r,f)=>a(f,r)},ge}var Re,yr;function X(){if(yr)return Re;yr=1;const e=fe(),{MAX_LENGTH:a,MAX_SAFE_INTEGER:i}=ce(),{safeRe:r,t:f}=ae(),E=lr(),{compareIdentifiers:v}=Lt();class g{constructor(h,t){if(t=E(t),h instanceof g){if(h.loose===!!t.loose&&h.includePrerelease===!!t.includePrerelease)return h;h=h.version}else if(typeof h!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof h}".`);if(h.length>a)throw new TypeError(`version is longer than ${a} characters`);e("SemVer",h,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=h.trim().match(t.loose?r[f.LOOSE]:r[f.FULL]);if(!n)throw new TypeError(`Invalid Version: ${h}`);if(this.raw=h,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(m=>{if(/^[0-9]+$/.test(m)){const L=+m;if(L>=0&&L<i)return L}return m}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(h){if(e("SemVer.compare",this.version,this.options,h),!(h instanceof g)){if(typeof h=="string"&&h===this.version)return 0;h=new g(h,this.options)}return h.version===this.version?0:this.compareMain(h)||this.comparePre(h)}compareMain(h){return h instanceof g||(h=new g(h,this.options)),this.major<h.major?-1:this.major>h.major?1:this.minor<h.minor?-1:this.minor>h.minor?1:this.patch<h.patch?-1:this.patch>h.patch?1:0}comparePre(h){if(h instanceof g||(h=new g(h,this.options)),this.prerelease.length&&!h.prerelease.length)return-1;if(!this.prerelease.length&&h.prerelease.length)return 1;if(!this.prerelease.length&&!h.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],m=h.prerelease[t];if(e("prerelease compare",t,n,m),n===void 0&&m===void 0)return 0;if(m===void 0)return 1;if(n===void 0)return-1;if(n===m)continue;return v(n,m)}while(++t)}compareBuild(h){h instanceof g||(h=new g(h,this.options));let t=0;do{const n=this.build[t],m=h.build[t];if(e("build compare",t,n,m),n===void 0&&m===void 0)return 0;if(m===void 0)return 1;if(n===void 0)return-1;if(n===m)continue;return v(n,m)}while(++t)}inc(h,t,n){if(h.startsWith("pre")){if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(t){const m=`-${t}`.match(this.options.loose?r[f.PRERELEASELOOSE]:r[f.PRERELEASE]);if(!m||m[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(h){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const m=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[m];else{let L=this.prerelease.length;for(;--L>=0;)typeof this.prerelease[L]=="number"&&(this.prerelease[L]++,L=-2);if(L===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(m)}}if(t){let L=[t,m];n===!1&&(L=[t]),v(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=L):this.prerelease=L}break}default:throw new Error(`invalid increment argument: ${h}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Re=g,Re}var Le,Sr;function se(){if(Sr)return Le;Sr=1;const e=X();return Le=(i,r,f=!1)=>{if(i instanceof e)return i;try{return new e(i,r)}catch(E){if(!f)return null;throw E}},Le}var $e,Cr;function Pt(){if(Cr)return $e;Cr=1;const e=se();return $e=(i,r)=>{const f=e(i,r);return f?f.version:null},$e}var Ie,Ar;function _t(){if(Ar)return Ie;Ar=1;const e=se();return Ie=(i,r)=>{const f=e(i.trim().replace(/^[=v]+/,""),r);return f?f.version:null},Ie}var Ne,wr;function bt(){if(wr)return Ne;wr=1;const e=X();return Ne=(i,r,f,E,v)=>{typeof f=="string"&&(v=E,E=f,f=void 0);try{return new e(i instanceof e?i.version:i,f).inc(r,E,v).version}catch{return null}},Ne}var Oe,Tr;function xt(){if(Tr)return Oe;Tr=1;const e=se();return Oe=(i,r)=>{const f=e(i,null,!0),E=e(r,null,!0),v=f.compare(E);if(v===0)return null;const g=v>0,d=g?f:E,h=g?E:f,t=!!d.prerelease.length;if(!!h.prerelease.length&&!t){if(!h.patch&&!h.minor)return"major";if(h.compareMain(d)===0)return h.minor&&!h.patch?"minor":"patch"}const m=t?"pre":"";return f.major!==E.major?m+"major":f.minor!==E.minor?m+"minor":f.patch!==E.patch?m+"patch":"prerelease"},Oe}var ye,qr;function Dt(){if(qr)return ye;qr=1;const e=X();return ye=(i,r)=>new e(i,r).major,ye}var Se,kr;function Ft(){if(kr)return Se;kr=1;const e=X();return Se=(i,r)=>new e(i,r).minor,Se}var Ce,Pr;function jt(){if(Pr)return Ce;Pr=1;const e=X();return Ce=(i,r)=>new e(i,r).patch,Ce}var Ae,_r;function Gt(){if(_r)return Ae;_r=1;const e=se();return Ae=(i,r)=>{const f=e(i,r);return f&&f.prerelease.length?f.prerelease:null},Ae}var we,br;function Y(){if(br)return we;br=1;const e=X();return we=(i,r,f)=>new e(i,f).compare(new e(r,f)),we}var Te,xr;function Vt(){if(xr)return Te;xr=1;const e=Y();return Te=(i,r,f)=>e(r,i,f),Te}var qe,Dr;function Ut(){if(Dr)return qe;Dr=1;const e=Y();return qe=(i,r)=>e(i,r,!0),qe}var ke,Fr;function cr(){if(Fr)return ke;Fr=1;const e=X();return ke=(i,r,f)=>{const E=new e(i,f),v=new e(r,f);return E.compare(v)||E.compareBuild(v)},ke}var Pe,jr;function Mt(){if(jr)return Pe;jr=1;const e=cr();return Pe=(i,r)=>i.sort((f,E)=>e(f,E,r)),Pe}var _e,Gr;function Xt(){if(Gr)return _e;Gr=1;const e=cr();return _e=(i,r)=>i.sort((f,E)=>e(E,f,r)),_e}var be,Vr;function he(){if(Vr)return be;Vr=1;const e=Y();return be=(i,r,f)=>e(i,r,f)>0,be}var xe,Ur;function fr(){if(Ur)return xe;Ur=1;const e=Y();return xe=(i,r,f)=>e(i,r,f)<0,xe}var De,Mr;function $t(){if(Mr)return De;Mr=1;const e=Y();return De=(i,r,f)=>e(i,r,f)===0,De}var Fe,Xr;function It(){if(Xr)return Fe;Xr=1;const e=Y();return Fe=(i,r,f)=>e(i,r,f)!==0,Fe}var je,Br;function hr(){if(Br)return je;Br=1;const e=Y();return je=(i,r,f)=>e(i,r,f)>=0,je}var Ge,Hr;function dr(){if(Hr)return Ge;Hr=1;const e=Y();return Ge=(i,r,f)=>e(i,r,f)<=0,Ge}var Ve,Yr;function Nt(){if(Yr)return Ve;Yr=1;const e=$t(),a=It(),i=he(),r=hr(),f=fr(),E=dr();return Ve=(g,d,h,t)=>{switch(d){case"===":return typeof g=="object"&&(g=g.version),typeof h=="object"&&(h=h.version),g===h;case"!==":return typeof g=="object"&&(g=g.version),typeof h=="object"&&(h=h.version),g!==h;case"":case"=":case"==":return e(g,h,t);case"!=":return a(g,h,t);case">":return i(g,h,t);case">=":return r(g,h,t);case"<":return f(g,h,t);case"<=":return E(g,h,t);default:throw new TypeError(`Invalid operator: ${d}`)}},Ve}var Ue,Wr;function Bt(){if(Wr)return Ue;Wr=1;const e=X(),a=se(),{safeRe:i,t:r}=ae();return Ue=(E,v)=>{if(E instanceof e)return E;if(typeof E=="number"&&(E=String(E)),typeof E!="string")return null;v=v||{};let g=null;if(!v.rtl)g=E.match(v.includePrerelease?i[r.COERCEFULL]:i[r.COERCE]);else{const L=v.includePrerelease?i[r.COERCERTLFULL]:i[r.COERCERTL];let N;for(;(N=L.exec(E))&&(!g||g.index+g[0].length!==E.length);)(!g||N.index+N[0].length!==g.index+g[0].length)&&(g=N),L.lastIndex=N.index+N[1].length+N[2].length;L.lastIndex=-1}if(g===null)return null;const d=g[2],h=g[3]||"0",t=g[4]||"0",n=v.includePrerelease&&g[5]?`-${g[5]}`:"",m=v.includePrerelease&&g[6]?`+${g[6]}`:"";return a(`${d}.${h}.${t}${n}${m}`,v)},Ue}var Me,zr;function Ht(){if(zr)return Me;zr=1;class e{constructor(){this.max=1e3,this.map=new Map}get(i){const r=this.map.get(i);if(r!==void 0)return this.map.delete(i),this.map.set(i,r),r}delete(i){return this.map.delete(i)}set(i,r){if(!this.delete(i)&&r!==void 0){if(this.map.size>=this.max){const E=this.map.keys().next().value;this.delete(E)}this.map.set(i,r)}return this}}return Me=e,Me}var Xe,Kr;function W(){if(Kr)return Xe;Kr=1;const e=/\s+/g;class a{constructor(O,T){if(T=f(T),O instanceof a)return O.loose===!!T.loose&&O.includePrerelease===!!T.includePrerelease?O:new a(O.raw,T);if(O instanceof E)return this.raw=O.value,this.set=[[O]],this.formatted=void 0,this;if(this.options=T,this.loose=!!T.loose,this.includePrerelease=!!T.includePrerelease,this.raw=O.trim().replace(e," "),this.set=this.raw.split("||").map(A=>this.parseRange(A.trim())).filter(A=>A.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const A=this.set[0];if(this.set=this.set.filter(q=>!R(q[0])),this.set.length===0)this.set=[A];else if(this.set.length>1){for(const q of this.set)if(q.length===1&&s(q[0])){this.set=[q];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let O=0;O<this.set.length;O++){O>0&&(this.formatted+="||");const T=this.set[O];for(let A=0;A<T.length;A++)A>0&&(this.formatted+=" "),this.formatted+=T[A].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(O){const A=((this.options.includePrerelease&&L)|(this.options.loose&&N))+":"+O,q=r.get(A);if(q)return q;const w=this.options.loose,I=w?d[h.HYPHENRANGELOOSE]:d[h.HYPHENRANGE];O=O.replace(I,Q(this.options.includePrerelease)),v("hyphen replace",O),O=O.replace(d[h.COMPARATORTRIM],t),v("comparator trim",O),O=O.replace(d[h.TILDETRIM],n),v("tilde trim",O),O=O.replace(d[h.CARETTRIM],m),v("caret trim",O);let l=O.split(" ").map(x=>c(x,this.options)).join(" ").split(/\s+/).map(x=>H(x,this.options));w&&(l=l.filter(x=>(v("loose invalid filter",x,this.options),!!x.match(d[h.COMPARATORLOOSE])))),v("range list",l);const p=new Map,y=l.map(x=>new E(x,this.options));for(const x of y){if(R(x))return[x];p.set(x.value,x)}p.size>1&&p.has("")&&p.delete("");const b=[...p.values()];return r.set(A,b),b}intersects(O,T){if(!(O instanceof a))throw new TypeError("a Range is required");return this.set.some(A=>o(A,T)&&O.set.some(q=>o(q,T)&&A.every(w=>q.every(I=>w.intersects(I,T)))))}test(O){if(!O)return!1;if(typeof O=="string")try{O=new g(O,this.options)}catch{return!1}for(let T=0;T<this.set.length;T++)if(J(this.set[T],O,this.options))return!0;return!1}}Xe=a;const i=Ht(),r=new i,f=lr(),E=de(),v=fe(),g=X(),{safeRe:d,t:h,comparatorTrimReplace:t,tildeTrimReplace:n,caretTrimReplace:m}=ae(),{FLAG_INCLUDE_PRERELEASE:L,FLAG_LOOSE:N}=ce(),R=S=>S.value==="<0.0.0-0",s=S=>S.value==="",o=(S,O)=>{let T=!0;const A=S.slice();let q=A.pop();for(;T&&A.length;)T=A.every(w=>q.intersects(w,O)),q=A.pop();return T},c=(S,O)=>(S=S.replace(d[h.BUILD],""),v("comp",S,O),S=$(S,O),v("caret",S),S=_(S,O),v("tildes",S),S=k(S,O),v("xrange",S),S=U(S,O),v("stars",S),S),u=S=>!S||S.toLowerCase()==="x"||S==="*",_=(S,O)=>S.trim().split(/\s+/).map(T=>P(T,O)).join(" "),P=(S,O)=>{const T=O.loose?d[h.TILDELOOSE]:d[h.TILDE];return S.replace(T,(A,q,w,I,l)=>{v("tilde",S,A,q,w,I,l);let p;return u(q)?p="":u(w)?p=`>=${q}.0.0 <${+q+1}.0.0-0`:u(I)?p=`>=${q}.${w}.0 <${q}.${+w+1}.0-0`:l?(v("replaceTilde pr",l),p=`>=${q}.${w}.${I}-${l} <${q}.${+w+1}.0-0`):p=`>=${q}.${w}.${I} <${q}.${+w+1}.0-0`,v("tilde return",p),p})},$=(S,O)=>S.trim().split(/\s+/).map(T=>D(T,O)).join(" "),D=(S,O)=>{v("caret",S,O);const T=O.loose?d[h.CARETLOOSE]:d[h.CARET],A=O.includePrerelease?"-0":"";return S.replace(T,(q,w,I,l,p)=>{v("caret",S,q,w,I,l,p);let y;return u(w)?y="":u(I)?y=`>=${w}.0.0${A} <${+w+1}.0.0-0`:u(l)?w==="0"?y=`>=${w}.${I}.0${A} <${w}.${+I+1}.0-0`:y=`>=${w}.${I}.0${A} <${+w+1}.0.0-0`:p?(v("replaceCaret pr",p),w==="0"?I==="0"?y=`>=${w}.${I}.${l}-${p} <${w}.${I}.${+l+1}-0`:y=`>=${w}.${I}.${l}-${p} <${w}.${+I+1}.0-0`:y=`>=${w}.${I}.${l}-${p} <${+w+1}.0.0-0`):(v("no pr"),w==="0"?I==="0"?y=`>=${w}.${I}.${l}${A} <${w}.${I}.${+l+1}-0`:y=`>=${w}.${I}.${l}${A} <${w}.${+I+1}.0-0`:y=`>=${w}.${I}.${l} <${+w+1}.0.0-0`),v("caret return",y),y})},k=(S,O)=>(v("replaceXRanges",S,O),S.split(/\s+/).map(T=>B(T,O)).join(" ")),B=(S,O)=>{S=S.trim();const T=O.loose?d[h.XRANGELOOSE]:d[h.XRANGE];return S.replace(T,(A,q,w,I,l,p)=>{v("xRange",S,A,q,w,I,l,p);const y=u(w),b=y||u(I),x=b||u(l),G=x;return q==="="&&G&&(q=""),p=O.includePrerelease?"-0":"",y?q===">"||q==="<"?A="<0.0.0-0":A="*":q&&G?(b&&(I=0),l=0,q===">"?(q=">=",b?(w=+w+1,I=0,l=0):(I=+I+1,l=0)):q==="<="&&(q="<",b?w=+w+1:I=+I+1),q==="<"&&(p="-0"),A=`${q+w}.${I}.${l}${p}`):b?A=`>=${w}.0.0${p} <${+w+1}.0.0-0`:x&&(A=`>=${w}.${I}.0${p} <${w}.${+I+1}.0-0`),v("xRange return",A),A})},U=(S,O)=>(v("replaceStars",S,O),S.trim().replace(d[h.STAR],"")),H=(S,O)=>(v("replaceGTE0",S,O),S.trim().replace(d[O.includePrerelease?h.GTE0PRE:h.GTE0],"")),Q=S=>(O,T,A,q,w,I,l,p,y,b,x,G)=>(u(A)?T="":u(q)?T=`>=${A}.0.0${S?"-0":""}`:u(w)?T=`>=${A}.${q}.0${S?"-0":""}`:I?T=`>=${T}`:T=`>=${T}${S?"-0":""}`,u(y)?p="":u(b)?p=`<${+y+1}.0.0-0`:u(x)?p=`<${y}.${+b+1}.0-0`:G?p=`<=${y}.${b}.${x}-${G}`:S?p=`<${y}.${b}.${+x+1}-0`:p=`<=${p}`,`${T} ${p}`.trim()),J=(S,O,T)=>{for(let A=0;A<S.length;A++)if(!S[A].test(O))return!1;if(O.prerelease.length&&!T.includePrerelease){for(let A=0;A<S.length;A++)if(v(S[A].semver),S[A].semver!==E.ANY&&S[A].semver.prerelease.length>0){const q=S[A].semver;if(q.major===O.major&&q.minor===O.minor&&q.patch===O.patch)return!0}return!1}return!0};return Xe}var Be,Zr;function de(){if(Zr)return Be;Zr=1;const e=Symbol("SemVer ANY");class a{static get ANY(){return e}constructor(t,n){if(n=i(n),t instanceof a){if(t.loose===!!n.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),v("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===e?this.value="":this.value=this.operator+this.semver.version,v("comp",this)}parse(t){const n=this.options.loose?r[f.COMPARATORLOOSE]:r[f.COMPARATOR],m=t.match(n);if(!m)throw new TypeError(`Invalid comparator: ${t}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new g(m[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(v("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if(typeof t=="string")try{t=new g(t,this.options)}catch{return!1}return E(t,this.operator,this.semver,this.options)}intersects(t,n){if(!(t instanceof a))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(t.value,n).test(this.value):t.operator===""?t.value===""?!0:new d(this.value,n).test(t.semver):(n=i(n),n.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||E(this.semver,"<",t.semver,n)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||E(this.semver,">",t.semver,n)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}}Be=a;const i=lr(),{safeRe:r,t:f}=ae(),E=Nt(),v=fe(),g=X(),d=W();return Be}var He,Qr;function pe(){if(Qr)return He;Qr=1;const e=W();return He=(i,r,f)=>{try{r=new e(r,f)}catch{return!1}return r.test(i)},He}var Ye,Jr;function Yt(){if(Jr)return Ye;Jr=1;const e=W();return Ye=(i,r)=>new e(i,r).set.map(f=>f.map(E=>E.value).join(" ").trim().split(" ")),Ye}var We,et;function Wt(){if(et)return We;et=1;const e=X(),a=W();return We=(r,f,E)=>{let v=null,g=null,d=null;try{d=new a(f,E)}catch{return null}return r.forEach(h=>{d.test(h)&&(!v||g.compare(h)===-1)&&(v=h,g=new e(v,E))}),v},We}var ze,rt;function zt(){if(rt)return ze;rt=1;const e=X(),a=W();return ze=(r,f,E)=>{let v=null,g=null,d=null;try{d=new a(f,E)}catch{return null}return r.forEach(h=>{d.test(h)&&(!v||g.compare(h)===1)&&(v=h,g=new e(v,E))}),v},ze}var Ke,tt;function Kt(){if(tt)return Ke;tt=1;const e=X(),a=W(),i=he();return Ke=(f,E)=>{f=new a(f,E);let v=new e("0.0.0");if(f.test(v)||(v=new e("0.0.0-0"),f.test(v)))return v;v=null;for(let g=0;g<f.set.length;++g){const d=f.set[g];let h=null;d.forEach(t=>{const n=new e(t.semver.version);switch(t.operator){case">":n.prerelease.length===0?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":(!h||i(n,h))&&(h=n);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}}),h&&(!v||i(v,h))&&(v=h)}return v&&f.test(v)?v:null},Ke}var Ze,nt;function Zt(){if(nt)return Ze;nt=1;const e=W();return Ze=(i,r)=>{try{return new e(i,r).range||"*"}catch{return null}},Ze}var Qe,st;function pr(){if(st)return Qe;st=1;const e=X(),a=de(),{ANY:i}=a,r=W(),f=pe(),E=he(),v=fr(),g=dr(),d=hr();return Qe=(t,n,m,L)=>{t=new e(t,L),n=new r(n,L);let N,R,s,o,c;switch(m){case">":N=E,R=g,s=v,o=">",c=">=";break;case"<":N=v,R=d,s=E,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(f(t,n,L))return!1;for(let u=0;u<n.set.length;++u){const _=n.set[u];let P=null,$=null;if(_.forEach(D=>{D.semver===i&&(D=new a(">=0.0.0")),P=P||D,$=$||D,N(D.semver,P.semver,L)?P=D:s(D.semver,$.semver,L)&&($=D)}),P.operator===o||P.operator===c||(!$.operator||$.operator===o)&&R(t,$.semver))return!1;if($.operator===c&&s(t,$.semver))return!1}return!0},Qe}var Je,it;function Qt(){if(it)return Je;it=1;const e=pr();return Je=(i,r,f)=>e(i,r,">",f),Je}var er,at;function Jt(){if(at)return er;at=1;const e=pr();return er=(i,r,f)=>e(i,r,"<",f),er}var rr,ot;function en(){if(ot)return rr;ot=1;const e=W();return rr=(i,r,f)=>(i=new e(i,f),r=new e(r,f),i.intersects(r,f)),rr}var tr,ut;function rn(){if(ut)return tr;ut=1;const e=pe(),a=Y();return tr=(i,r,f)=>{const E=[];let v=null,g=null;const d=i.sort((m,L)=>a(m,L,f));for(const m of d)e(m,r,f)?(g=m,v||(v=m)):(g&&E.push([v,g]),g=null,v=null);v&&E.push([v,null]);const h=[];for(const[m,L]of E)m===L?h.push(m):!L&&m===d[0]?h.push("*"):L?m===d[0]?h.push(`<=${L}`):h.push(`${m} - ${L}`):h.push(`>=${m}`);const t=h.join(" || "),n=typeof r.raw=="string"?r.raw:String(r);return t.length<n.length?t:r},tr}var nr,lt;function tn(){if(lt)return nr;lt=1;const e=W(),a=de(),{ANY:i}=a,r=pe(),f=Y(),E=(n,m,L={})=>{if(n===m)return!0;n=new e(n,L),m=new e(m,L);let N=!1;e:for(const R of n.set){for(const s of m.set){const o=d(R,s,L);if(N=N||o!==null,o)continue e}if(N)return!1}return!0},v=[new a(">=0.0.0-0")],g=[new a(">=0.0.0")],d=(n,m,L)=>{if(n===m)return!0;if(n.length===1&&n[0].semver===i){if(m.length===1&&m[0].semver===i)return!0;L.includePrerelease?n=v:n=g}if(m.length===1&&m[0].semver===i){if(L.includePrerelease)return!0;m=g}const N=new Set;let R,s;for(const k of n)k.operator===">"||k.operator===">="?R=h(R,k,L):k.operator==="<"||k.operator==="<="?s=t(s,k,L):N.add(k.semver);if(N.size>1)return null;let o;if(R&&s){if(o=f(R.semver,s.semver,L),o>0)return null;if(o===0&&(R.operator!==">="||s.operator!=="<="))return null}for(const k of N){if(R&&!r(k,String(R),L)||s&&!r(k,String(s),L))return null;for(const B of m)if(!r(k,String(B),L))return!1;return!0}let c,u,_,P,$=s&&!L.includePrerelease&&s.semver.prerelease.length?s.semver:!1,D=R&&!L.includePrerelease&&R.semver.prerelease.length?R.semver:!1;$&&$.prerelease.length===1&&s.operator==="<"&&$.prerelease[0]===0&&($=!1);for(const k of m){if(P=P||k.operator===">"||k.operator===">=",_=_||k.operator==="<"||k.operator==="<=",R){if(D&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===D.major&&k.semver.minor===D.minor&&k.semver.patch===D.patch&&(D=!1),k.operator===">"||k.operator===">="){if(c=h(R,k,L),c===k&&c!==R)return!1}else if(R.operator===">="&&!r(R.semver,String(k),L))return!1}if(s){if($&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===$.major&&k.semver.minor===$.minor&&k.semver.patch===$.patch&&($=!1),k.operator==="<"||k.operator==="<="){if(u=t(s,k,L),u===k&&u!==s)return!1}else if(s.operator==="<="&&!r(s.semver,String(k),L))return!1}if(!k.operator&&(s||R)&&o!==0)return!1}return!(R&&_&&!s&&o!==0||s&&P&&!R&&o!==0||D||$)},h=(n,m,L)=>{if(!n)return m;const N=f(n.semver,m.semver,L);return N>0?n:N<0||m.operator===">"&&n.operator===">="?m:n},t=(n,m,L)=>{if(!n)return m;const N=f(n.semver,m.semver,L);return N<0?n:N>0||m.operator==="<"&&n.operator==="<="?m:n};return nr=E,nr}var sr,ct;function nn(){if(ct)return sr;ct=1;const e=ae(),a=ce(),i=X(),r=Lt(),f=se(),E=Pt(),v=_t(),g=bt(),d=xt(),h=Dt(),t=Ft(),n=jt(),m=Gt(),L=Y(),N=Vt(),R=Ut(),s=cr(),o=Mt(),c=Xt(),u=he(),_=fr(),P=$t(),$=It(),D=hr(),k=dr(),B=Nt(),U=Bt(),H=de(),Q=W(),J=pe(),S=Yt(),O=Wt(),T=zt(),A=Kt(),q=Zt(),w=pr(),I=Qt(),l=Jt(),p=en(),y=rn(),b=tn();return sr={parse:f,valid:E,clean:v,inc:g,diff:d,major:h,minor:t,patch:n,prerelease:m,compare:L,rcompare:N,compareLoose:R,compareBuild:s,sort:o,rsort:c,gt:u,lt:_,eq:P,neq:$,gte:D,lte:k,cmp:B,coerce:U,Comparator:H,Range:Q,satisfies:J,toComparators:S,maxSatisfying:O,minSatisfying:T,minVersion:A,validRange:q,outside:w,gtr:I,ltr:l,intersects:p,simplifyRange:y,subset:b,SemVer:i,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},sr}var sn=nn();const ft=Rt(sn);function ht(e){return fetch(e).then(function(a){if(!a.ok)throw new Error("HTTP "+a.status+" for "+e);return a.json()})}function an(e){return e&&e.replace("/","%2f")}function on(e,a){e==="latest"&&(e="*");var i=Object.keys(a.versions),r=ft.maxSatisfying(i,e,!0);if(!r&&e==="*"&&i.every(function(f){return new ft.SemVer(f,!0).prerelease.length})&&(r=a["dist-tags"]&&a["dist-tags"].latest),!r)throw Error("could not find a satisfactory version for string "+e);return r}function or(e){return typeof e=="string"&&(e.indexOf("git")===0||e.indexOf("http")===0||e.indexOf("file")===0||e.indexOf("github:")===0||e.indexOf("bitbucket:")===0||e.indexOf("gitlab:")===0||e.indexOf("/")!==-1)}function un(e){return typeof e=="string"&&e.match(/^https?:\/\//)}function ln(e,a){var i=or(a.version)?a.name+a.version:a.name,r=e.cache[i];if(r)return Promise.resolve(r);if(or(a.version))return Promise.resolve({});var f=an(a.name);return!f&&un(a.name)?ht(a.name).then(function(E){E._id=E.name+"@"+E.version;var v={};return v[E.version]=E,{versions:v}}):f?ht(mt+f).then(function(E){return e.cache[i]=E,E}):Promise.reject(new Error("Escaped name is missing for "+a.name))}function vr(e){typeof e.changed=="function"&&e.changed(e.queue.length);var a=e.queue.pop();return a?ln(e,a).then(function(i){cn(e,a,i)}).catch(function(i){e.errors.push({name:a.name,version:a.version,message:i.message})}).then(function(){return vr(e)}):Promise.resolve(e.graph)}function cn(e,a,i){var r,f,E;or(a.version)?(r="",f=i,E=a.version):(r=on(a.version,i),f=i.versions[r],E=f._id);var v=f.dependencies;e.graph.beginUpdate(),e.graph.addNode(E,f),a.parent&&!e.graph.hasLink(a.parent,E)&&e.graph.addLink(a.parent,E),e.graph.endUpdate(),!e.processed[E]&&(e.processed[E]=!0,v&&Object.keys(v).forEach(function(g){e.queue.push({name:g,version:v[g],parent:E})}))}function gs(e,a,i){var r={graph:gt(),cache:Object.create(null),queue:[],processed:Object.create(null),errors:[],changed:i};return a||(a="latest"),r.queue.push({name:e,version:a,parent:null}),{graph:r.graph,start:function(){return vr(r)},errors:r.errors}}function Rs(e,a,i){var r={graph:gt(),cache:Object.create(null),queue:[],processed:Object.create(null),errors:[],changed:i},f=e.name||"uploaded-project",E=e.version||"0.0.0",v=f+"@"+E;r.graph.addNode(v,e),r.processed[v]=!0;var g=Object.assign({},e.dependencies);return a&&a.includeDevDeps&&Object.assign(g,e.devDependencies),Object.keys(g).forEach(function(d){r.queue.push({name:d,version:g[d],parent:v})}),{graph:r.graph,start:function(){return vr(r)},errors:r.errors}}function fn(e,a,i,r){var f=r||e.pkgId,E=i||e.version||"",v=a?"2d":"3d",g="/view/"+v+"/"+f;return E&&(g+="/"+E),g}var ne=["CRITICAL","HIGH","MODERATE","LOW"],ur={CRITICAL:"#DC5F65",HIGH:"#E8964F",MODERATE:"#E8D44F",LOW:"#A0A0B8"};function dt(e){var a=String(e),i=a.lastIndexOf("@");return i<=0?{name:a,version:""}:{name:a.substring(0,i),version:a.substring(i+1)}}function hn(e){if(!e)return"MODERATE";var a=e.toUpperCase();return a==="MEDIUM"?"MODERATE":ne.indexOf(a)>=0?a:"MODERATE"}function ir(e,a){for(var i=[],r=0;r<e.length;r+=a)i.push(e.slice(r,r+a));return i}function Ls(e,a){var i=a&&a.onProgress||function(){},r=[],f=[];if(e.forEachNode(function(g){var d=dt(g.id);d.version&&(r.push({package:{name:d.name,ecosystem:"npm"},version:d.version}),f.push(g.id))}),r.length===0)return Promise.resolve(new Map);i("Scanning vulnerabilities...");var E=ir(r,1e3),v=ir(f,1e3);return Promise.all(E.map(function(g,d){return fetch("https://api.osv.dev/v1/querybatch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({queries:g})}).then(function(h){return h.json()}).then(function(h){return{results:h.results||[],nodeIds:v[d]}})})).then(function(g){var d={},h=[];if(g.forEach(function(m){m.results.forEach(function(L,N){var R=m.nodeIds[N];!L||!L.vulns||L.vulns.forEach(function(s){d[s.id]||(d[s.id]=[],h.push(s.id)),d[s.id].push(R)})})}),h.length===0)return i(""),new Map;i("Fetching vulnerability details ("+h.length+")...");var t=ir(h,10),n={};return t.reduce(function(m,L){return m.then(function(){return Promise.all(L.map(function(N){return fetch("https://api.osv.dev/v1/vulns/"+encodeURIComponent(N)).then(function(R){return R.json()}).then(function(R){n[N]=R}).catch(function(){})}))})},Promise.resolve()).then(function(){var m=new Map;return h.forEach(function(L){var N=n[L];if(N){var R="MODERATE";N.database_specific&&N.database_specific.severity&&(R=hn(N.database_specific.severity));var s=d[L]||[];s.forEach(function(o){var c=dt(o),u=null;N.affected&&N.affected.forEach(function(k){k.package&&k.package.name===c.name&&k.ranges&&k.ranges.forEach(function(B){B.events&&B.events.forEach(function(U){U.fixed&&(u=U.fixed)})})});var _=(N.aliases||[]).filter(function(k){return k!==L}),P=[];N.database_specific&&N.database_specific.cwe_ids&&(P=N.database_specific.cwe_ids);var $={id:L,summary:N.summary||"",aliases:_,severityLabel:R,color:ur[R]||ur.MODERATE,fixedVersion:u,cwes:P},D=m.get(o);D||(D=[],m.set(o,D)),D.push($)})}}),i(""),m})})}function dn(e,a){if(!e)return null;var i=e.get(a);if(!i||!i.length)return null;var r=ne.length;return i.forEach(function(f){var E=ne.indexOf(f.severityLabel);E>=0&&E<r&&(r=E)}),r<ne.length?ne[r]:null}function pn(e){var a={};return ne.forEach(function(i){a[i]={name:i,count:0,packages:[],color:ur[i],selected:!1}}),e.forEach(function(i,r){var f=dn(e,r);f&&a[f]&&(a[f].count+=1,a[f].packages.push(r))}),ne.map(function(i){return a[i]}).filter(function(i){return i.count>0})}var ar={exports:{}},pt;function vn(){return pt||(pt=1,(function(e){(function(a,i){var r="0123456789abcdef".split(""),f=function(h,t){var n,m=1732584193,L=4023233417,N=2562383102,R=271733878,s,o,c,u,_,P;!t&&/[^\x00-\x7F]/.test(h)?n=d(h):n=g(h);for(var $=0,D=n.length;$<D;$+=16)$===0?(s=n[$+0]-680876937,s=(s<<7|s>>>25)-271733879<<0,u=n[$+1]-117830708+(2004318071&s^-1732584194),u=(u<<12|u>>>20)+s<<0,c=n[$+2]-1126478375+((s^-271733879)&u^-271733879),c=(c<<17|c>>>15)+u<<0,o=n[$+3]-1316259209+((u^s)&c^s),o=(o<<22|o>>>10)+c<<0):(s=m,o=L,c=N,u=R,s+=(u^o&(c^u))+n[$+0]-680876936,s=(s<<7|s>>>25)+o<<0,u+=(c^s&(o^c))+n[$+1]-389564586,u=(u<<12|u>>>20)+s<<0,c+=(o^u&(s^o))+n[$+2]+606105819,c=(c<<17|c>>>15)+u<<0,o+=(s^c&(u^s))+n[$+3]-1044525330,o=(o<<22|o>>>10)+c<<0),s+=(u^o&(c^u))+n[$+4]-176418897,s=(s<<7|s>>>25)+o<<0,u+=(c^s&(o^c))+n[$+5]+1200080426,u=(u<<12|u>>>20)+s<<0,c+=(o^u&(s^o))+n[$+6]-1473231341,c=(c<<17|c>>>15)+u<<0,o+=(s^c&(u^s))+n[$+7]-45705983,o=(o<<22|o>>>10)+c<<0,s+=(u^o&(c^u))+n[$+8]+1770035416,s=(s<<7|s>>>25)+o<<0,u+=(c^s&(o^c))+n[$+9]-1958414417,u=(u<<12|u>>>20)+s<<0,c+=(o^u&(s^o))+n[$+10]-42063,c=(c<<17|c>>>15)+u<<0,o+=(s^c&(u^s))+n[$+11]-1990404162,o=(o<<22|o>>>10)+c<<0,s+=(u^o&(c^u))+n[$+12]+1804603682,s=(s<<7|s>>>25)+o<<0,u+=(c^s&(o^c))+n[$+13]-40341101,u=(u<<12|u>>>20)+s<<0,c+=(o^u&(s^o))+n[$+14]-1502002290,c=(c<<17|c>>>15)+u<<0,o+=(s^c&(u^s))+n[$+15]+1236535329,o=(o<<22|o>>>10)+c<<0,s+=(c^u&(o^c))+n[$+1]-165796510,s=(s<<5|s>>>27)+o<<0,u+=(o^c&(s^o))+n[$+6]-1069501632,u=(u<<9|u>>>23)+s<<0,c+=(s^o&(u^s))+n[$+11]+643717713,c=(c<<14|c>>>18)+u<<0,o+=(u^s&(c^u))+n[$+0]-373897302,o=(o<<20|o>>>12)+c<<0,s+=(c^u&(o^c))+n[$+5]-701558691,s=(s<<5|s>>>27)+o<<0,u+=(o^c&(s^o))+n[$+10]+38016083,u=(u<<9|u>>>23)+s<<0,c+=(s^o&(u^s))+n[$+15]-660478335,c=(c<<14|c>>>18)+u<<0,o+=(u^s&(c^u))+n[$+4]-405537848,o=(o<<20|o>>>12)+c<<0,s+=(c^u&(o^c))+n[$+9]+568446438,s=(s<<5|s>>>27)+o<<0,u+=(o^c&(s^o))+n[$+14]-1019803690,u=(u<<9|u>>>23)+s<<0,c+=(s^o&(u^s))+n[$+3]-187363961,c=(c<<14|c>>>18)+u<<0,o+=(u^s&(c^u))+n[$+8]+1163531501,o=(o<<20|o>>>12)+c<<0,s+=(c^u&(o^c))+n[$+13]-1444681467,s=(s<<5|s>>>27)+o<<0,u+=(o^c&(s^o))+n[$+2]-51403784,u=(u<<9|u>>>23)+s<<0,c+=(s^o&(u^s))+n[$+7]+1735328473,c=(c<<14|c>>>18)+u<<0,o+=(u^s&(c^u))+n[$+12]-1926607734,o=(o<<20|o>>>12)+c<<0,_=o^c,s+=(_^u)+n[$+5]-378558,s=(s<<4|s>>>28)+o<<0,_=o^c,u+=(_^s)+n[$+8]-2022574463,u=(u<<11|u>>>21)+s<<0,P=u^s,c+=(P^o)+n[$+11]+1839030562,c=(c<<16|c>>>16)+u<<0,P=u^s,o+=(P^c)+n[$+14]-35309556,o=(o<<23|o>>>9)+c<<0,_=o^c,s+=(_^u)+n[$+1]-1530992060,s=(s<<4|s>>>28)+o<<0,_=o^c,u+=(_^s)+n[$+4]+1272893353,u=(u<<11|u>>>21)+s<<0,P=u^s,c+=(P^o)+n[$+7]-155497632,c=(c<<16|c>>>16)+u<<0,P=u^s,o+=(P^c)+n[$+10]-1094730640,o=(o<<23|o>>>9)+c<<0,_=o^c,s+=(_^u)+n[$+13]+681279174,s=(s<<4|s>>>28)+o<<0,_=o^c,u+=(_^s)+n[$+0]-358537222,u=(u<<11|u>>>21)+s<<0,P=u^s,c+=(P^o)+n[$+3]-722521979,c=(c<<16|c>>>16)+u<<0,P=u^s,o+=(P^c)+n[$+6]+76029189,o=(o<<23|o>>>9)+c<<0,_=o^c,s+=(_^u)+n[$+9]-640364487,s=(s<<4|s>>>28)+o<<0,_=o^c,u+=(_^s)+n[$+12]-421815835,u=(u<<11|u>>>21)+s<<0,P=u^s,c+=(P^o)+n[$+15]+530742520,c=(c<<16|c>>>16)+u<<0,P=u^s,o+=(P^c)+n[$+2]-995338651,o=(o<<23|o>>>9)+c<<0,s+=(c^(o|~u))+n[$+0]-198630844,s=(s<<6|s>>>26)+o<<0,u+=(o^(s|~c))+n[$+7]+1126891415,u=(u<<10|u>>>22)+s<<0,c+=(s^(u|~o))+n[$+14]-1416354905,c=(c<<15|c>>>17)+u<<0,o+=(u^(c|~s))+n[$+5]-57434055,o=(o<<21|o>>>11)+c<<0,s+=(c^(o|~u))+n[$+12]+1700485571,s=(s<<6|s>>>26)+o<<0,u+=(o^(s|~c))+n[$+3]-1894986606,u=(u<<10|u>>>22)+s<<0,c+=(s^(u|~o))+n[$+10]-1051523,c=(c<<15|c>>>17)+u<<0,o+=(u^(c|~s))+n[$+1]-2054922799,o=(o<<21|o>>>11)+c<<0,s+=(c^(o|~u))+n[$+8]+1873313359,s=(s<<6|s>>>26)+o<<0,u+=(o^(s|~c))+n[$+15]-30611744,u=(u<<10|u>>>22)+s<<0,c+=(s^(u|~o))+n[$+6]-1560198380,c=(c<<15|c>>>17)+u<<0,o+=(u^(c|~s))+n[$+13]+1309151649,o=(o<<21|o>>>11)+c<<0,s+=(c^(o|~u))+n[$+4]-145523070,s=(s<<6|s>>>26)+o<<0,u+=(o^(s|~c))+n[$+11]-1120210379,u=(u<<10|u>>>22)+s<<0,c+=(s^(u|~o))+n[$+2]+718787259,c=(c<<15|c>>>17)+u<<0,o+=(u^(c|~s))+n[$+9]-343485551,o=(o<<21|o>>>11)+c<<0,m=m+s<<0,L=L+o<<0,N=N+c<<0,R=R+u<<0;return E(m)+E(L)+E(N)+E(R)},E=function(h){for(var t="",n=0;n<4;n++){var m=n<<3;t+=r[h>>m+4&15]+r[h>>m&15]}return t},v=function(h){for(var t=[],n=0,m=0;m<h.length;m++){var L=h.charCodeAt(m);L<128?t[n++]=L:L<2048?(t[n++]=192|L>>6,t[n++]=128|L&63):L<55296||L>=57344?(t[n++]=224|L>>12,t[n++]=128|L>>6&63,t[n++]=128|L&63):(L=65536+((L&1023)<<10|h.charCodeAt(++m)&1023),t[n++]=240|L>>18,t[n++]=128|L>>12&63,t[n++]=128|L>>6&63,t[n++]=128|L&63)}return t},g=function(h){var t=h.length,n=(t+8>>6)+1,m=n<<4,L=[],N;for(N=0;N<m;++N)L[N]=0;for(N=0;N<t;++N)L[N>>2]|=h.charCodeAt(N)<<((N&3)<<3);return L[N>>2]|=128<<((N&3)<<3),L[m-2]=t<<3,L},d=function(h){var t=v(h),n=t.length,m=(n+8>>6)+1,L=m<<4,N=[],R;for(R=0;R<L;++R)N[R]=0;for(R=0;R<n;++R)N[R>>2]|=t[R]<<((R&3)<<3);return N[R>>2]|=128<<((R&3)<<3),N[L-2]=n<<3,N};e.exports=f})()})(ar)),ar.exports}var En=vn();const mn=Rt(En);function Ot(e){return{avatar:"https://secure.gravatar.com/avatar/"+mn(e.email.toLowerCase())+"?s=25&d=retro",profile:"https://www.npmjs.org/~"+e.name,name:e.name,email:e.email}}var vt=Object.create(null);function gn(e){return e&&e.replace("/","%2f")}function Rn(e){var a=vt[e];if(a)return Promise.resolve(a);var i=gn(e);if(!i)throw new Error("Could not escape "+e);return fetch(mt+i).then(function(r){return r.ok?r.json():null}).then(function(r){if(!r||!r.versions)return null;var f=Object.keys(r.versions);return vt[e]=f,f})}function Ln(e){var a={},i=[];return e.forEachNode(r),i.sort(E);function r(v){$n(v,f)}function f(v,g){var d=a[v];d||(d=a[v]={},d.name=v,d.count=0,d.packages=[],i.push(d)),d.count+=1,d.packages.push(g.id)}function E(v,g){return g.count-v.count}}function $n(e,a){var i="unspecified",r=e.data,f=Et(r.license);if(f)i=f,a(i,e);else if(r.licenses){if(typeof r.licenses=="string")a(r.licenses,e);else if(r.licenses.length)for(var E=0;E<r.licenses.length;++E)f=Et(r.licenses[E]),f&&a(f,e)}else a(i,e)}function Et(e){if(typeof e=="string")return e;if(e&&e.type)return e.type}function In(e){var a={},i=[];return e.forEachNode(function(r){var f=r.data;if(!f.maintainers)return;f.maintainers.forEach(E);function E(v){var g=a[v.email];g||(g=a[v.email]=Ot(v),g.count=0,g.packages=[],i.push(g)),g.count+=1,g.packages.push(r.id)}}),i.sort(Nn)}function Nn(e,a){return a.count-e.count}function On(e){var a={},i=[];return e.forEachNode(r),i.sort(f);function r(E){var v=E.id.split("@"),g;v.length===3?g=v[1]:g=v[0];var d=a[g];d||(d=a[g]=Object.create(null),d.name=g,d.count=0,d.packages=[],i.push(d)),d.count+=1,d.packages.push(E.id)}function f(E,v){return v.count-E.count}}const yn={class:"header"},Sn={key:0,class:"infoBox-actions"},Cn={class:"packageInfo"},An={key:0},wn=["href"],Tn={key:0,class:"version",title:"version"},qn={key:1,class:"version",title:"version"},kn=["value"],Pn={class:"description"},_n={class:"sh sh_sourceCode"},bn={class:"maintainers"},xn={class:"maintainersContainer"},Dn=["href"],Fn=["src"],jn={key:2,class:"node-vulnerabilities"},Gn={class:"vuln-header"},Vn=["href"],Un={key:0,class:"vuln-summary"},Mn={key:1,class:"vuln-aliases"},Xn={key:2,class:"vuln-fix"},Bn={key:1},Hn={class:"sh sh_sourceCode"},Yn={class:"graphInfo"},Wn={class:"nodes"},zn={class:"number"},Kn={class:"links"},Zn={class:"number"},Qn={class:"all-maintainers"},Jn={class:"maintainersContainer"},es=["onClick"],rs=["href"],ts=["src","onMouseenter","onMouseleave"],ns={class:"all-licenses"},ss={class:"license-container"},is=["onClick"],as={class:"last"},os={class:"all-licenses"},us={class:"license-container"},ls=["onClick"],cs={class:"last"},fs={key:0},hs={class:"all-licenses"},ds={key:0,class:"license-container"},ps=["onClick"],vs={class:"last"},Es={key:1,class:"no-vulns"},$s={__name:"PackageInfo",props:{graph:{type:Object,required:!0},showActions:{type:Boolean,default:!1},layoutRunning:{type:Boolean,default:!0},vulnMap:{type:Object,default:null}},emits:["highlight-node","toggle-layout","switch-mode"],setup(e,{expose:a,emit:i}){const r=e,f=i,E=Ct(),v=At(),g=M(null),d=M(!1),h=M(!0),t=M(!1),n=M(!1);Er(n,I=>{!I&&g.value&&(g.value.scrollTop=0)}),Er(()=>r.vulnMap,I=>{I&&H&&(U.value=I.get(H)||[])});const m=M(null),L=M([]),N=M(null),R=M(""),s=M(0),o=M(0),c=M([]),u=M([]),_=M([]),P=M("copy");let $=null,D=null;const k=M([]),B=M(0),U=M([]);let H=null;function Q(I){I&&(S(I),T("package",!1))}function J(I){o.value=I.getLinksCount(),s.value=I.getNodesCount(),d.value=!0,c.value=In(I),u.value=Ln(I),_.value=On(I),S(I.root),T("graph",!1)}function S(I){var l=I.data;if(l&&!("name"in l)&&(l={id:I.id,remote:!0}),m.value=l,H=I.id,N.value=null,l.maintainers&&l.maintainers.length?L.value=l.maintainers.map(Ot):L.value=[],!l.remote){var p=l.name;Rn(p).then(function(y){y&&m.value&&m.value.name===p&&(N.value=y,R.value=l.version)})}r.vulnMap?U.value=r.vulnMap.get(I.id)||[]:U.value=[]}function O(I){k.value=pn(I),B.value=0,k.value.forEach(function(l){B.value+=l.count}),H&&I&&(U.value=I.get(H)||[])}function T(I,l){h.value=I==="package",t.value=I==="graph",n.value=!!l}function A(){var I=fn(E.params,!0,R.value,m.value.name);v.push(I)}function q(I,l){l.preventDefault(),f("highlight-node",{color:"#52CCE3",ids:I.packages}),D&&(D.selected=!1),D=I,D&&(D.selected=!0),n.value=!1}function w(I){navigator.clipboard.writeText("npm install "+I).then(function(){P.value="copied!",clearTimeout($),$=setTimeout(function(){P.value="copy"},1500)})}return a({onNodeSelected:Q,onGraphLoaded:J,onVulnDataLoaded:O}),(I,l)=>ie((F(),j("div",{ref_key:"infoBoxEl",ref:g,class:ee(["infoBox",{"responsive-open":n.value}])},[C("a",{href:"#",class:"hide-info-box",onClick:l[0]||(l[0]=Z(p=>n.value=!1,["prevent"]))},"show graph"),C("div",yn,[C("a",{href:"#",class:ee({selected:h.value}),onClick:l[1]||(l[1]=Z(p=>T("package",!0),["prevent"]))},"package info",2),e.showActions?(F(),j("span",Sn,[C("a",{href:"#",onClick:l[2]||(l[2]=Z(p=>I.$emit("toggle-layout"),["prevent"]))},V(e.layoutRunning?"pause":"resume"),1),C("a",{href:"#",onClick:l[3]||(l[3]=Z(p=>I.$emit("switch-mode"),["prevent"]))},"3d")])):K("",!0),C("a",{href:"#",class:ee([{selected:t.value},"last"]),onClick:l[4]||(l[4]=Z(p=>T("graph",!0),["prevent"]))},"graph info",2),l[8]||(l[8]=C("div",{class:"clearfix"},null,-1))]),l[27]||(l[27]=C("hr",{class:"divider"},null,-1)),ie(C("div",Cn,[m.value&&m.value.name?(F(),j("div",An,[C("a",{href:"https://npmjs.org/package/"+m.value.name},V(m.value.name),9,wn),N.value?K("",!0):(F(),j("span",Tn,V(m.value.version),1)),N.value?(F(),j("span",qn,[ie(C("select",{"onUpdate:modelValue":l[5]||(l[5]=p=>R.value=p),onChange:A},[(F(!0),j(re,null,te(N.value,p=>(F(),j("option",{key:p,value:p},V(p),9,kn))),128))],544),[[St,R.value]])])):K("",!0),C("p",Pn,V(m.value.description),1),C("pre",_n,[C("code",null,"npm install "+V(m.value.name),1),C("button",{class:"copy-btn",title:"Copy to clipboard",onClick:l[6]||(l[6]=p=>w(m.value.name))},V(P.value),1)]),C("div",bn,[l[9]||(l[9]=C("h4",null,"maintainers",-1)),C("div",xn,[(F(!0),j(re,null,te(L.value,p=>(F(),j("div",{key:p.email,class:"maintainerBox"},[C("a",{href:p.profile,target:"_blank"},[C("img",{src:p.avatar},null,8,Fn)],8,Dn)]))),128))]),l[10]||(l[10]=C("div",{class:"clearfix"},null,-1))]),U.value.length?(F(),j("div",jn,[l[11]||(l[11]=C("h4",null,"vulnerabilities",-1)),(F(!0),j(re,null,te(U.value,p=>(F(),j("div",{key:p.id,class:"vuln-item"},[C("div",Gn,[C("span",{class:"vuln-severity",style:mr({background:p.color})},V(p.severityLabel),5),C("a",{href:"https://osv.dev/vulnerability/"+p.id,target:"_blank"},V(p.id),9,Vn)]),p.summary?(F(),j("div",Un,V(p.summary),1)):K("",!0),p.aliases.length?(F(),j("div",Mn,V(p.aliases.join(", ")),1)):K("",!0),p.fixedVersion?(F(),j("div",Xn,"Fixed in: "+V(p.fixedVersion),1)):K("",!0)]))),128))])):K("",!0)])):m.value?(F(),j("div",Bn,[l[12]||(l[12]=C("h4",null,"Remote dependency",-1)),C("pre",Hn,[C("code",null,"npm install "+V(m.value.id),1),C("button",{class:"copy-btn",title:"Copy to clipboard",onClick:l[7]||(l[7]=p=>w(m.value.id))},V(P.value),1)])])):K("",!0)],512),[[oe,h.value]]),ie(C("div",Yn,[C("div",Wn,[l[13]||(l[13]=C("p",null,"# of nodes",-1)),C("p",zn,V(s.value),1)]),C("div",Kn,[l[14]||(l[14]=C("p",null,"# of links",-1)),C("p",Zn,V(o.value),1)]),l[24]||(l[24]=C("div",{class:"clearfix"},null,-1)),l[25]||(l[25]=C("hr",null,null,-1)),C("div",Qn,[l[16]||(l[16]=C("h4",null,"maintainers",-1)),C("div",Jn,[(F(!0),j(re,null,te(c.value,p=>(F(),j("div",{key:p.email,class:ee(["maintainerBox",{selected:p.selected}]),onClick:y=>q(p,y)},[C("a",{href:p.profile,target:"_blank"},[C("img",{src:p.avatar,onMouseenter:y=>p.countVisible=!0,onMouseleave:y=>p.countVisible=!1},null,40,ts)],8,rs),ie(C("span",{class:"packagesCount"}," x "+V(p.count),513),[[oe,p.countVisible]]),l[15]||(l[15]=C("div",{class:"border"},null,-1))],10,es))),128))]),l[17]||(l[17]=C("div",{class:"clearfix"},null,-1))]),l[26]||(l[26]=C("hr",null,null,-1)),C("div",ns,[l[18]||(l[18]=C("h4",null,"licenses",-1)),C("div",ss,[(F(!0),j(re,null,te(u.value,p=>(F(),j("a",{key:p.name,class:ee(["license-row",{selected:p.selected}]),href:"#",onClick:Z(y=>q(p,y),["prevent"])},[C("span",null,V(p.name),1),C("span",as,V(p.count),1)],10,is))),128))]),l[19]||(l[19]=C("div",{class:"clearfix"},null,-1))]),C("div",os,[l[20]||(l[20]=C("h4",null,"names",-1)),C("div",us,[(F(!0),j(re,null,te(_.value,p=>(F(),j("a",{key:p.name,class:ee(["license-row",{selected:p.selected}]),href:"#",onClick:Z(y=>q(p,y),["prevent"])},[C("span",null,V(p.name),1),C("span",cs,V(p.count),1)],10,ls))),128))]),l[21]||(l[21]=C("div",{class:"clearfix"},null,-1))]),e.vulnMap?(F(),j("div",fs,[l[23]||(l[23]=C("hr",null,null,-1)),C("div",hs,[l[22]||(l[22]=C("h4",null,"vulnerabilities",-1)),k.value.length?(F(),j("div",ds,[(F(!0),j(re,null,te(k.value,p=>(F(),j("a",{key:p.name,class:ee(["license-row",{selected:p.selected}]),href:"#",onClick:Z(y=>q(p,y),["prevent"])},[C("span",{style:mr({color:p.color})},V(p.name),5),C("span",vs,V(p.count),1)],10,ps))),128))])):(F(),j("p",Es,"No known vulnerabilities found"))])])):K("",!0)],512),[[oe,t.value]])],2)),[[oe,d.value]])}};export{ur as S,$s as _,gs as a,Rs as b,fn as c,Rt as d,dn as g,Ls as s};
